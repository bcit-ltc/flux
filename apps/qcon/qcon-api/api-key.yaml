# Generates a secret from Vault
---
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: api-key
  annotations:
    config.fluxcd.io/app-secret: true
spec:
  type: kv-v2
  vaultAuthRef: vault-auth
  refreshAfter: 6h
  mount: apps

  # path is prefixed by `{appName}/{environment}/`; double // required
  path: //api-key
  destination:
    name: api-key
    create: true
