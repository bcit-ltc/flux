# Kustomization for all infrastructure
#
# - deploy workloads by uncommenting resources below
---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

commonAnnotations:
  config.fluxcd.io/workload-type: infrastructure

resources:

  # GitHub webhook receiver
  - ./flux

  # vault secrets operator requires init; see `infrastructure/vault-secrets-operator/NOTES.md`
  - ./vault-secrets-operator

  # longhorn uninstall requires a patch; see `infrastructure/longhorn/NOTES.md`
  - ./longhorn

  # Obot
  # - ./obot
  
  # Installation requires sequence - see infrastructure/cloudnative-pg/NOTES.md
  - ./cloudnative-pg
