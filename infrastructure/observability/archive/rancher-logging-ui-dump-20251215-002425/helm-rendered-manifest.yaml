---
# Source: rancher-logging/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: rancher-logging
  namespace: cattle-logging-system
  labels:
    app.kubernetes.io/name: rancher-logging
    helm.sh/chart: rancher-logging-108.0.0_up4.10.0-rancher.15
    app.kubernetes.io/instance: rancher-logging
    app.kubernetes.io/version: "4.10.0"
    app.kubernetes.io/managed-by: Helm
---
# Source: rancher-logging/templates/clusterrole.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: rancher-logging
rules:
- apiGroups:
  - ""
  resources:
  - configmaps
  - persistentvolumeclaims
  - pods
  - secrets
  - serviceaccounts
  - services
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - ""
  resources:
  - endpoints
  - namespaces
  - nodes
  - nodes/proxy
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - ""
  - events.k8s.io
  resources:
  - events
  verbs:
  - create
  - get
  - list
  - watch
- apiGroups:
  - apps
  resources:
  - daemonsets
  - replicasets
  - statefulsets
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - apps
  - extensions
  resources:
  - daemonsets
  - deployments
  - statefulsets
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - batch
  resources:
  - jobs
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - coordination.k8s.io
  resources:
  - leases
  verbs:
  - '*'
- apiGroups:
  - events.k8s.io
  resources:
  - events
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - extensions
  - networking.k8s.io
  resources:
  - ingresses
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - logging-extensions.banzaicloud.io
  resources:
  - eventtailers
  - hosttailers
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - logging-extensions.banzaicloud.io
  resources:
  - eventtailers/status
  - hosttailers/status
  verbs:
  - get
  - patch
  - update
- apiGroups:
  - logging.banzaicloud.io
  resources:
  - clusterflows
  - clusteroutputs
  - flows
  - fluentbitagents
  - fluentdconfigs
  - loggingroutes
  - loggings
  - nodeagents
  - outputs
  - syslogngclusterflows
  - syslogngclusteroutputs
  - syslogngconfigs
  - syslogngflows
  - syslogngoutputs
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - logging.banzaicloud.io
  resources:
  - clusterflows/status
  - clusteroutputs/status
  - flows/status
  - fluentbitagents/status
  - fluentdconfigs/status
  - loggingroutes/status
  - loggings/status
  - nodeagents/status
  - outputs/status
  - syslogngclusterflows/status
  - syslogngclusteroutputs/status
  - syslogngconfigs/status
  - syslogngflows/status
  - syslogngoutputs/status
  verbs:
  - get
  - patch
  - update
- apiGroups:
  - logging.banzaicloud.io
  resources:
  - loggings/finalizers
  verbs:
  - update
- apiGroups:
  - monitoring.coreos.com
  resources:
  - prometheusrules
  - servicemonitors
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - policy
  resources:
  - poddisruptionbudgets
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - rbac.authorization.k8s.io
  resources:
  - clusterrolebindings
  - clusterroles
  - rolebindings
  - roles
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
---
# Source: rancher-logging/templates/userrole.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: rancher-logging-edit
  labels:
    rbac.authorization.k8s.io/aggregate-to-admin: "true"
rules:
- apiGroups:
  - logging.banzaicloud.io
  resources:
  - flows
  - outputs
  verbs:
  - create
  - delete
  - deletecollection
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - logging.banzaicloud.io
  resources:
  - syslogngflows
  - syslogngoutputs
  verbs:
  - create
  - delete
  - deletecollection
  - get
  - list
  - patch
  - update
  - watch
---
# Source: rancher-logging/templates/userroles.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: "logging-admin"
  labels:
    rbac.authorization.k8s.io/aggregate-to-admin: "true"
rules:
  - apiGroups:
      - "logging.banzaicloud.io"
    resources:
      - flows
      - outputs
    verbs:
      - "*"
---
# Source: rancher-logging/templates/userroles.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: "logging-view"
  labels:
    rbac.authorization.k8s.io/aggregate-to-admin: "true"
    rbac.authorization.k8s.io/aggregate-to-view: "true"
    rbac.authorization.k8s.io/aggregate-to-edit: "true"
rules:
  - apiGroups:
      - "logging.banzaicloud.io"
    resources:
      - flows
      - outputs
      - clusterflows
      - clusteroutputs
    verbs:
      - get
      - list
      - watch
---
# Source: rancher-logging/templates/clusterrolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: rancher-logging
  labels:
    app.kubernetes.io/name: rancher-logging
    helm.sh/chart: rancher-logging-108.0.0_up4.10.0-rancher.15
    app.kubernetes.io/instance: rancher-logging
    app.kubernetes.io/version: "4.10.0"
    app.kubernetes.io/managed-by: Helm
subjects:
  - kind: ServiceAccount
    name: rancher-logging
    namespace: cattle-logging-system
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: rancher-logging
---
# Source: rancher-logging/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: rancher-logging
  namespace: cattle-logging-system
  labels:
    app.kubernetes.io/name: rancher-logging
    helm.sh/chart: rancher-logging-108.0.0_up4.10.0-rancher.15
    app.kubernetes.io/instance: rancher-logging
    app.kubernetes.io/version: "4.10.0"
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  clusterIP: None
  ports:
    - port: 8080
      targetPort: http
      protocol: TCP
      name: http
  selector:
    app.kubernetes.io/name: rancher-logging
    app.kubernetes.io/instance: rancher-logging
---
# Source: rancher-logging/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: rancher-logging
  namespace: cattle-logging-system
  labels:
    app.kubernetes.io/name: rancher-logging
    helm.sh/chart: rancher-logging-108.0.0_up4.10.0-rancher.15
    app.kubernetes.io/instance: rancher-logging
    app.kubernetes.io/version: "4.10.0"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: rancher-logging
      app.kubernetes.io/instance: rancher-logging
  template:
    metadata:
      labels:
        app.kubernetes.io/name: rancher-logging
        app.kubernetes.io/instance: rancher-logging
    spec:
      containers:
        - name: rancher-logging
          image: "rancher/mirrored-kube-logging-logging-operator:4.10.0"
          args:
            - -enable-leader-election=true
          imagePullPolicy: IfNotPresent
          resources:
            {}
          ports:
            - name: http
              containerPort: 8080
          securityContext: 
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: true
      securityContext: 
        fsGroup: 2000
        runAsNonRoot: true
        runAsUser: 1000
      serviceAccountName: rancher-logging
---
# Source: rancher-logging/templates/validate-install-crd.yaml
###map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false]#map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false]#map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:false]#map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:false logging.banzaicloud.io/v1alpha1/ClusterOutput:false]#map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:false logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false]#map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:false logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1beta1/FluentbitAgent:false]#map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:false logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1beta1/FluentbitAgent:false logging.banzaicloud.io/v1beta1/FluentdConfig:false]#map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:false logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1beta1/FluentbitAgent:false logging.banzaicloud.io/v1beta1/FluentdConfig:false logging.banzaicloud.io/v1beta1/LoggingRoute:false]#map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:false logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1alpha1/Logging:false logging.banzaicloud.io/v1beta1/FluentbitAgent:false logging.banzaicloud.io/v1beta1/FluentdConfig:false logging.banzaicloud.io/v1beta1/LoggingRoute:false]#map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:false logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1alpha1/Logging:false logging.banzaicloud.io/v1beta1/FluentbitAgent:false logging.banzaicloud.io/v1beta1/FluentdConfig:false logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:false]#map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:false logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1alpha1/Logging:false logging.banzaicloud.io/v1alpha1/Output:false logging.banzaicloud.io/v1beta1/FluentbitAgent:false logging.banzaicloud.io/v1beta1/FluentdConfig:false logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:false]#map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:false logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1alpha1/Logging:false logging.banzaicloud.io/v1alpha1/Output:false logging.banzaicloud.io/v1beta1/FluentbitAgent:false logging.banzaicloud.io/v1beta1/FluentdConfig:false logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:false logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:false]#map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:false logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1alpha1/Logging:false logging.banzaicloud.io/v1alpha1/Output:false logging.banzaicloud.io/v1beta1/FluentbitAgent:false logging.banzaicloud.io/v1beta1/FluentdConfig:false logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:false logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:false logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:false]#map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:false logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1alpha1/Logging:false logging.banzaicloud.io/v1alpha1/Output:false logging.banzaicloud.io/v1beta1/FluentbitAgent:false logging.banzaicloud.io/v1beta1/FluentdConfig:false logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:false logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:false logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:false logging.banzaicloud.io/v1beta1/SyslogNGConfig:false]#map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:false logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1alpha1/Logging:false logging.banzaicloud.io/v1alpha1/Output:false logging.banzaicloud.io/v1beta1/FluentbitAgent:false logging.banzaicloud.io/v1beta1/FluentdConfig:false logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:false logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:false logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:false logging.banzaicloud.io/v1beta1/SyslogNGConfig:false logging.banzaicloud.io/v1beta1/SyslogNGFlow:false]#map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:false logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1alpha1/Logging:false logging.banzaicloud.io/v1alpha1/Output:false logging.banzaicloud.io/v1beta1/FluentbitAgent:false logging.banzaicloud.io/v1beta1/FluentdConfig:false logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:false logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:false logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:false logging.banzaicloud.io/v1beta1/SyslogNGConfig:false logging.banzaicloud.io/v1beta1/SyslogNGFlow:false logging.banzaicloud.io/v1beta1/SyslogNGOutput:false]#############################map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:false logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1alpha1/Logging:false logging.banzaicloud.io/v1alpha1/Output:true logging.banzaicloud.io/v1beta1/FluentbitAgent:false logging.banzaicloud.io/v1beta1/FluentdConfig:false logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:false logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:false logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:false logging.banzaicloud.io/v1beta1/SyslogNGConfig:false logging.banzaicloud.io/v1beta1/SyslogNGFlow:false logging.banzaicloud.io/v1beta1/SyslogNGOutput:false]##################################################################################map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:false logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1alpha1/Logging:false logging.banzaicloud.io/v1alpha1/Output:true logging.banzaicloud.io/v1beta1/FluentbitAgent:false logging.banzaicloud.io/v1beta1/FluentdConfig:false logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:false logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:false logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:false logging.banzaicloud.io/v1beta1/SyslogNGConfig:false logging.banzaicloud.io/v1beta1/SyslogNGFlow:true logging.banzaicloud.io/v1beta1/SyslogNGOutput:false]####################################################################################################map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:true logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1alpha1/Logging:false logging.banzaicloud.io/v1alpha1/Output:true logging.banzaicloud.io/v1beta1/FluentbitAgent:false logging.banzaicloud.io/v1beta1/FluentdConfig:false logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:false logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:false logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:false logging.banzaicloud.io/v1beta1/SyslogNGConfig:false logging.banzaicloud.io/v1beta1/SyslogNGFlow:true logging.banzaicloud.io/v1beta1/SyslogNGOutput:false]################################################map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:true logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1alpha1/Logging:false logging.banzaicloud.io/v1alpha1/Output:true logging.banzaicloud.io/v1beta1/FluentbitAgent:false logging.banzaicloud.io/v1beta1/FluentdConfig:true logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:false logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:false logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:false logging.banzaicloud.io/v1beta1/SyslogNGConfig:false logging.banzaicloud.io/v1beta1/SyslogNGFlow:true logging.banzaicloud.io/v1beta1/SyslogNGOutput:false]##########################map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:true logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1alpha1/Logging:false logging.banzaicloud.io/v1alpha1/Output:true logging.banzaicloud.io/v1beta1/FluentbitAgent:false logging.banzaicloud.io/v1beta1/FluentdConfig:true logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:true logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:false logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:false logging.banzaicloud.io/v1beta1/SyslogNGConfig:false logging.banzaicloud.io/v1beta1/SyslogNGFlow:true logging.banzaicloud.io/v1beta1/SyslogNGOutput:false]################map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:true logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1alpha1/Logging:false logging.banzaicloud.io/v1alpha1/Output:true logging.banzaicloud.io/v1beta1/FluentbitAgent:true logging.banzaicloud.io/v1beta1/FluentdConfig:true logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:true logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:false logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:false logging.banzaicloud.io/v1beta1/SyslogNGConfig:false logging.banzaicloud.io/v1beta1/SyslogNGFlow:true logging.banzaicloud.io/v1beta1/SyslogNGOutput:false]################################################################################map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:false logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:true logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1alpha1/Logging:true logging.banzaicloud.io/v1alpha1/Output:true logging.banzaicloud.io/v1beta1/FluentbitAgent:true logging.banzaicloud.io/v1beta1/FluentdConfig:true logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:true logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:false logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:false logging.banzaicloud.io/v1beta1/SyslogNGConfig:false logging.banzaicloud.io/v1beta1/SyslogNGFlow:true logging.banzaicloud.io/v1beta1/SyslogNGOutput:false]##############################map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:true logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:true logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:false logging.banzaicloud.io/v1alpha1/Logging:true logging.banzaicloud.io/v1alpha1/Output:true logging.banzaicloud.io/v1beta1/FluentbitAgent:true logging.banzaicloud.io/v1beta1/FluentdConfig:true logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:true logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:false logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:false logging.banzaicloud.io/v1beta1/SyslogNGConfig:false logging.banzaicloud.io/v1beta1/SyslogNGFlow:true logging.banzaicloud.io/v1beta1/SyslogNGOutput:false]######################################map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:true logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:true logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:true logging.banzaicloud.io/v1alpha1/Logging:true logging.banzaicloud.io/v1alpha1/Output:true logging.banzaicloud.io/v1beta1/FluentbitAgent:true logging.banzaicloud.io/v1beta1/FluentdConfig:true logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:true logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:false logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:false logging.banzaicloud.io/v1beta1/SyslogNGConfig:false logging.banzaicloud.io/v1beta1/SyslogNGFlow:true logging.banzaicloud.io/v1beta1/SyslogNGOutput:false]##################map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:true logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:true logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:true logging.banzaicloud.io/v1alpha1/Logging:true logging.banzaicloud.io/v1alpha1/Output:true logging.banzaicloud.io/v1beta1/FluentbitAgent:true logging.banzaicloud.io/v1beta1/FluentdConfig:true logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:true logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:true logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:false logging.banzaicloud.io/v1beta1/SyslogNGConfig:false logging.banzaicloud.io/v1beta1/SyslogNGFlow:true logging.banzaicloud.io/v1beta1/SyslogNGOutput:false]######map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:true logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:true logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:true logging.banzaicloud.io/v1alpha1/Logging:true logging.banzaicloud.io/v1alpha1/Output:true logging.banzaicloud.io/v1beta1/FluentbitAgent:true logging.banzaicloud.io/v1beta1/FluentdConfig:true logging.banzaicloud.io/v1beta1/LoggingRoute:false logging.banzaicloud.io/v1beta1/NodeAgent:true logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:true logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:false logging.banzaicloud.io/v1beta1/SyslogNGConfig:false logging.banzaicloud.io/v1beta1/SyslogNGFlow:true logging.banzaicloud.io/v1beta1/SyslogNGOutput:true]################map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:true logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:true logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:true logging.banzaicloud.io/v1alpha1/Logging:true logging.banzaicloud.io/v1alpha1/Output:true logging.banzaicloud.io/v1beta1/FluentbitAgent:true logging.banzaicloud.io/v1beta1/FluentdConfig:true logging.banzaicloud.io/v1beta1/LoggingRoute:true logging.banzaicloud.io/v1beta1/NodeAgent:true logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:true logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:false logging.banzaicloud.io/v1beta1/SyslogNGConfig:false logging.banzaicloud.io/v1beta1/SyslogNGFlow:true logging.banzaicloud.io/v1beta1/SyslogNGOutput:true]##########################map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:true logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:true logging.banzaicloud.io/v1alpha1/ClusterOutput:false logging.banzaicloud.io/v1alpha1/Flow:true logging.banzaicloud.io/v1alpha1/Logging:true logging.banzaicloud.io/v1alpha1/Output:true logging.banzaicloud.io/v1beta1/FluentbitAgent:true logging.banzaicloud.io/v1beta1/FluentdConfig:true logging.banzaicloud.io/v1beta1/LoggingRoute:true logging.banzaicloud.io/v1beta1/NodeAgent:true logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:true logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:true logging.banzaicloud.io/v1beta1/SyslogNGConfig:false logging.banzaicloud.io/v1beta1/SyslogNGFlow:true logging.banzaicloud.io/v1beta1/SyslogNGOutput:true]####################################map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:true logging-extensions.banzaicloud.io/v1alpha1/HostTailer:false logging.banzaicloud.io/v1alpha1/ClusterFlow:true logging.banzaicloud.io/v1alpha1/ClusterOutput:true logging.banzaicloud.io/v1alpha1/Flow:true logging.banzaicloud.io/v1alpha1/Logging:true logging.banzaicloud.io/v1alpha1/Output:true logging.banzaicloud.io/v1beta1/FluentbitAgent:true logging.banzaicloud.io/v1beta1/FluentdConfig:true logging.banzaicloud.io/v1beta1/LoggingRoute:true logging.banzaicloud.io/v1beta1/NodeAgent:true logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:true logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:true logging.banzaicloud.io/v1beta1/SyslogNGConfig:false logging.banzaicloud.io/v1beta1/SyslogNGFlow:true logging.banzaicloud.io/v1beta1/SyslogNGOutput:true]########map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:true logging-extensions.banzaicloud.io/v1alpha1/HostTailer:true logging.banzaicloud.io/v1alpha1/ClusterFlow:true logging.banzaicloud.io/v1alpha1/ClusterOutput:true logging.banzaicloud.io/v1alpha1/Flow:true logging.banzaicloud.io/v1alpha1/Logging:true logging.banzaicloud.io/v1alpha1/Output:true logging.banzaicloud.io/v1beta1/FluentbitAgent:true logging.banzaicloud.io/v1beta1/FluentdConfig:true logging.banzaicloud.io/v1beta1/LoggingRoute:true logging.banzaicloud.io/v1beta1/NodeAgent:true logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:true logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:true logging.banzaicloud.io/v1beta1/SyslogNGConfig:false logging.banzaicloud.io/v1beta1/SyslogNGFlow:true logging.banzaicloud.io/v1beta1/SyslogNGOutput:true]############map[logging-extensions.banzaicloud.io/v1alpha1/EventTailer:true logging-extensions.banzaicloud.io/v1alpha1/HostTailer:true logging.banzaicloud.io/v1alpha1/ClusterFlow:true logging.banzaicloud.io/v1alpha1/ClusterOutput:true logging.banzaicloud.io/v1alpha1/Flow:true logging.banzaicloud.io/v1alpha1/Logging:true logging.banzaicloud.io/v1alpha1/Output:true logging.banzaicloud.io/v1beta1/FluentbitAgent:true logging.banzaicloud.io/v1beta1/FluentdConfig:true logging.banzaicloud.io/v1beta1/LoggingRoute:true logging.banzaicloud.io/v1beta1/NodeAgent:true logging.banzaicloud.io/v1beta1/SyslogNGClusterFlow:true logging.banzaicloud.io/v1beta1/SyslogNGClusterOutput:true logging.banzaicloud.io/v1beta1/SyslogNGConfig:true logging.banzaicloud.io/v1beta1/SyslogNGFlow:true logging.banzaicloud.io/v1beta1/SyslogNGOutput:true]######################################################
---
# Source: rancher-logging/templates/validate-install.yaml
#
---
# Source: rancher-logging/templates/loggings/root/fluentbitagent.yaml
####### map[apiVersion:logging.banzaicloud.io/v1beta1 kind:FluentbitAgent metadata:map[labels:map[app.kubernetes.io/instance:rancher-logging app.kubernetes.io/managed-by:Helm app.kubernetes.io/name:rancher-logging app.kubernetes.io/version:4.10.0 helm.sh/chart:rancher-logging-108.0.0_up4.10.0-rancher.15] namespace:cattle-logging-system] spec:map[image:map[repository:rancher/mirrored-fluent-fluent-bit tag:3.1.8] metrics:map[prometheusRules:false serviceMonitor:false] security:map[securityContext:map[allowPrivilegeEscalation:false capabilities:map[drop:[ALL]] readOnlyRootFilesystem:true]] tolerations:[map[effect:NoSchedule key:node-role.kubernetes.io/control-plane value:true] map[effect:NoExecute key:node-role.kubernetes.io/etcd value:true]]]]

apiVersion: logging.banzaicloud.io/v1beta1
kind: FluentbitAgent
metadata:
  labels:
    app.kubernetes.io/instance: rancher-logging
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: rancher-logging
    app.kubernetes.io/version: 4.10.0
    helm.sh/chart: rancher-logging-108.0.0_up4.10.0-rancher.15
  name: rancher-logging-root
  namespace: cattle-logging-system
spec:
  image:
    repository: rancher/mirrored-fluent-fluent-bit
    tag: 3.1.8
  metrics:
    prometheusRules: false
    serviceMonitor: false
  security:
    securityContext:
      allowPrivilegeEscalation: false
      capabilities:
        drop:
        - ALL
      readOnlyRootFilesystem: true
  tolerations:
  - effect: NoSchedule
    key: node-role.kubernetes.io/control-plane
    value: "true"
  - effect: NoExecute
    key: node-role.kubernetes.io/etcd
    value: "true"
---
# Source: rancher-logging/templates/loggings/root/logging.yaml
####### map[apiVersion:logging.banzaicloud.io/v1beta1 kind:Logging metadata:map[labels:map[app.kubernetes.io/instance:rancher-logging app.kubernetes.io/managed-by:Helm app.kubernetes.io/name:rancher-logging app.kubernetes.io/version:4.10.0 helm.sh/chart:rancher-logging-108.0.0_up4.10.0-rancher.15] namespace:cattle-logging-system] spec:map[controlNamespace:cattle-logging-system fluentd:map[configReloaderImage:map[repository:rancher/mirrored-kube-logging-config-reloader tag:v0.0.6] disablePvc:true image:map[repository:rancher/mirrored-kube-logging-fluentd tag:v1.16-4.10-full] livenessProbe:map[initialDelaySeconds:30 periodSeconds:15 tcpSocket:map[port:24240]] metrics:map[prometheusRules:false serviceMonitor:false] security:map[podSecurityContext:map[fsGroup:101 runAsGroup:101 runAsUser:100] securityContext:map[allowPrivilegeEscalation:false capabilities:map[drop:[ALL]] readOnlyRootFilesystem:false]]]]]

apiVersion: logging.banzaicloud.io/v1beta1
kind: Logging
metadata:
  labels:
    app.kubernetes.io/instance: rancher-logging
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: rancher-logging
    app.kubernetes.io/version: 4.10.0
    helm.sh/chart: rancher-logging-108.0.0_up4.10.0-rancher.15
  name: rancher-logging-root
  namespace: cattle-logging-system
spec:
  controlNamespace: cattle-logging-system
  fluentd:
    configReloaderImage:
      repository: rancher/mirrored-kube-logging-config-reloader
      tag: v0.0.6
    disablePvc: true
    image:
      repository: rancher/mirrored-kube-logging-fluentd
      tag: v1.16-4.10-full
    livenessProbe:
      initialDelaySeconds: 30
      periodSeconds: 15
      tcpSocket:
        port: 24240
    metrics:
      prometheusRules: false
      serviceMonitor: false
    security:
      podSecurityContext:
        fsGroup: 101
        runAsGroup: 101
        runAsUser: 100
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        readOnlyRootFilesystem: false

